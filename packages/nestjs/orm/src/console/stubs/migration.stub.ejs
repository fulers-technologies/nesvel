import { BaseMigration, IMigrationContext, IRollbackable } from '@nesvel/nestjs-orm';

/**
 * <%= name %> Migration
 *
 * @description <%= description || 'Migration description' %>
 * @author Generated by @nesvel/nestjs-orm
 */
export class <%= name %> extends BaseMigration implements IRollbackable {
  /**
   * Run the migration (apply changes)
   *
   * @param context - Migration context with database connection and utilities
   */
  async up(context: IMigrationContext): Promise<void> {
    await context.schema.createTable('<%= tableName %>', (table) => {
      table.increments('id').primary();
      table.string('name').notNullable();
      table.timestamps(true, true);
    });
  }

  /**
   * Reverse the migration (rollback changes)
   *
   * @param context - Migration context with database connection and utilities
   */
  async down(context: IMigrationContext): Promise<void> {
    await context.schema.dropTableIfExists('<%= tableName %>');
  }
}
